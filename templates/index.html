{% extends "layout.html" %}

{% block title %}
    index
{% endblock %}

{% block main %}
<div class="row">
    <div class="col-12 mt-4">
        <form action="/" method="post">
            <input class="form-control form-control-lg" autocomplete="off" autofocus type="text" name="station" type="text" placeholder="ex: Montreal, YMX, CYQB">
            <div class="h6 sm-indication mt-1 ml-1">Enter airport code or name</div>
        </form>
    </div>
    <!--
    <div class="col-12 col-md-4 mt-4">
    
    </div>
    -->
</div>

<div class="row">
    <div class="col-12 col-md-8 mt-4">
        <p class ="vert-center">{{ airport_name }}</p>
        <table class="table table-bordered shadow-sm">
            <thead>
                {% if rwy_list is defined %}
                <tr>
                    <th class = "fix-broken-table1">{{ wx_type | first }} {{ wx_time | first }}</td>
                    <th class = "fix-broken-table2" contenteditable="true" type="number" id="w-direction">{{ wind_dir | first }}</td>
                    <th class = "fix-broken-table2" contenteditable="true" id="w-strength">{{ wind_str | first }}</td>
                </tr>
                {% endif %}
            </thead>
        </table>
        <div class="container">
            <div class="row">
                {% if rwy_list is defined %}
                <div class="fix-broken-table1 h6 table-explan">
                    Runway
                </div>
                <div class="fix-broken-table2 h6 table-explan">
                    Head (+) /tailwind (-)
                </div>
                <div class="fix-broken-table2 h6 table-explan">
                    Crosswind
                </div>
                <div class="fix-broken-table2 h6 table-explan">
                    Min CRFI
                </div>
                {% endif %}
            </div>
        </div>
        <table class="table table-sm table-bordered">
            <tbody>
                {% for rwy in rwy_list %}
                <tr>
                  <td class="fix-broken-table1">{{ rwy.le_ident }}</td>
                  <td class="fix-broken-table2">5 kts</td>
                  <td class="fix-broken-table2">8 kts</td>
                  <td class="fix-broken-table2 CRFI">0.29</td>
                </tr>
                <tr>
                  <td class="fix-broken-table1">{{ rwy.he_ident }}</td>
                  <td class="fix-broken-table2">-5 kts</td>
                  <td class="fix-broken-table2">8 kts</td>
                  <td class="fix-broken-table2 CRFI">0.29</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-12 col-md-4 mt-4 fira h6 formatting">
        <p class = "formatting">{{ metar_text }}</p><br>
        {% for row in taf_text %}
        <p class = "formatting">{{ row }}</p>
        {% endfor %}
    </div>

</div>
<script>
    // Prevent enter to be pressed in the contenteditable table
   // var contenteditable = document.getElementsByClassName()
    document.getElementById('w-direction').addEventListener('keypress', (evt) => {
        if (evt.which === 13) {
            evt.preventDefault();
        }
    });

    document.getElementById('w-strength').addEventListener('keypress', (evt) => {
        if (evt.which === 13) {
            evt.preventDefault();
        }
    });

    208

    $("input").keypress(function(event) {
        if (event.which == 13) {
            event.preventDefault();
            $("form").submit();
        }
    });

    // document.getElementById('w-direction')
</script>
{% endblock %}